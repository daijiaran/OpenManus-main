# 豆包 API 快速配置指南

## 方法一：直接编辑配置文件（推荐）

### 1. 打开配置文件
编辑文件：`config/config.toml`

### 2. 找到 `[llm]` 部分，修改以下两行：

```toml
[llm]
api_type = "doubao"
model = "你的推理接入点ID"              # 修改这里：填写你的 Model ID 或 Endpoint ID
base_url = "https://ark.cn-beijing.volces.com/api/v3"
api_key = "你的API密钥"                 # 修改这里：填写你的 API Key
max_tokens = 8192
temperature = 0.0
```

### 3. 填写信息

**推理接入点 ID（model 字段）**：
- 如果是 Model ID：格式类似 `doubao-lite-32k`、`doubao-pro-32k`
- 如果是 Endpoint ID：格式类似 `doubao-seed-1-6-251015` 或 `ep-xxxxx`
- 在豆包控制台查看你的实际 ID

**API Key**：
- 方式一：直接填写（不安全，但方便）
  ```toml
  api_key = "你的实际API密钥"
  ```

- 方式二：使用环境变量（推荐，更安全）
  1. 设置环境变量：
     ```powershell
     # Windows PowerShell
     $env:ARK_API_KEY = "你的API密钥"
     ```
  2. 配置文件中使用：
     ```toml
     api_key = "YOUR_ARK_API_KEY"
     ```

## 方法二：使用环境变量（推荐用于生产环境）

### 1. 设置环境变量

**Windows PowerShell：**
```powershell
$env:ARK_API_KEY = "你的API密钥"
$env:ARK_MODEL_ID = "你的推理接入点ID"
```

**Windows CMD：**
```cmd
set ARK_API_KEY=你的API密钥
set ARK_MODEL_ID=你的推理接入点ID
```

### 2. 配置文件中使用占位符

```toml
[llm]
api_type = "doubao"
model = "YOUR_MODEL_ID"          # 代码会自动从环境变量读取
api_key = "YOUR_ARK_API_KEY"     # 代码会自动从环境变量读取
base_url = "https://ark.cn-beijing.volces.com/api/v3"
max_tokens = 8192
temperature = 0.0
```

## 验证配置

配置完成后，运行测试：

```bash
python test_doubao_connection.py
```

如果看到 `[OK] API 调用成功！`，说明配置正确。

## 需要帮助？

如果你告诉我：
1. 你的推理接入点 ID（Model ID 或 Endpoint ID）
2. 你的 API Key（或确认使用环境变量）

我可以直接帮你更新配置文件！

